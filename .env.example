# AWS Bedrock Configuration
# REQUIRED: Provide AWS credentials for Bedrock access
#
# For local development with AWS SSO:
#   1. Run: aws sso login --profile your-profile
#   2. Set: AWS_PROFILE=your-profile
#
# For Docker: Set explicit credentials below (required since Docker can't access SSO)
AWS_ACCESS_KEY_ID=your_access_key_here
AWS_SECRET_ACCESS_KEY=your_secret_key_here
# AWS_SESSION_TOKEN=your_session_token_here  # Optional: only for temporary credentials

AWS_REGION=us-east-1

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000

# Model Configuration (Bedrock model IDs)
# Use regional inference profile format (e.g., us.anthropic.claude-sonnet-4-5-20250929-v1:0)
DEFAULT_MODEL=us.anthropic.claude-sonnet-4-5-20250929-v1:0

# Task Execution Settings
# Timeout per task in seconds (recommended: 60 for testing to catch loops faster, 300 for production)
TASK_TIMEOUT_SECONDS=120

# Loop Detection Settings
# Maximum consecutive identical tool calls before instructing agent to stop
MAX_CONSECUTIVE_TOOL_CALLS=3
# Maximum total tool calls for a single task
MAX_TOTAL_TOOL_CALLS=20
# Maximum identical calls with same parameters
MAX_IDENTICAL_CALLS=2
# Enable loop detection (true/false)
ENABLE_LOOP_DETECTION=true

# Logging
LOG_LEVEL=INFO

# MCP Server Configuration
# Mode: "stdio" (local subprocess) or "http" (remote HTTP endpoints)
MCP_MODE=stdio

# Stdio mode (default): MCP servers run as local subprocesses
# No additional configuration needed - uses paths defined in code

# HTTP mode: Set URLs for remote MCP servers deployed to ECS
# Uncomment and set these when MCP_MODE=http
# MATERIALS_MCP_URL=http://materials-mcp-alb-xxx.us-east-1.elb.amazonaws.com/mcp
# PERMITTING_MCP_URL=http://permitting-mcp-alb-xxx.us-east-1.elb.amazonaws.com/mcp

# Frontend Configuration
# UI refresh interval in milliseconds (how often dashboard updates when tasks are running)
UI_REFRESH_INTERVAL_MS=3000
